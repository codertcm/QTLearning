# 线程使用方法

## QT模板库

> 对STL的封装
> 程序执行，只有一个主线程   

### 子线程

+ 子线程 接收 主线程 发来的信号
+ 子线程 开始执行

> 自定义信号类型 qRegisterMetaType

+ 子线程发送数据到主线程，主线程窗口显示数据


### 两种方法对比

#### 继承QObject类

+ 可以提供多个任务函数， 由connect函数指派需要执行的任务函数
  + 一个信号 与 一个任务函数相关联

+ 多个任务类对象都可以移动到一个线程类中
  + 此时，多个任务对象是线性执行的

#### 继承QThread类

+ 优点： 处理方式简单
+ 缺点： 业务需求大，会导致代码臃肿
  + 但run方法中需处理很多任务时，建议用上面的方法

## connect操作

+ 看出slot函数是在哪个线程中执行的
+ 在单线程程序下，connect函数中的信号发送者和信号接收者是在一个线程中的
+ 在多线程程序下，connect函数中的信号发送者和信号接收者有可能是处在不同线程中的
  + 任务函数在子线程中执行
  + 接收者的槽函数在接收者所在线程中执行
  + 若接收者是this， 则对应的槽函数在主线程中执行  


